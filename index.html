<!DOCTYPE html>
<html lang="ja">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>want peek you</title>
 <style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
/* ベース */
body {
  font-weight: 400;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  padding: .5rem;
  line-height: 1.3;
  background-color: #f7f7f7;
  color: #666;
  font-size: .9rem;
}
/* コンテナ */
#container {
  max-width: 600px;
  margin: 1rem auto;
  padding: .5rem;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 8px;
}
/* 見出し */
h4 {
  font-size: 1.2rem;
  margin-bottom: .5rem;
}
/* 入力欄・テキストエリア・セレクト */
input, textarea, select {
  transition: background-color 0.3s, color 0.3s;
  font-size: .9rem;
  padding: .5rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  color: #666;
  background-color: #fff;
  width: 100%;
  margin-bottom: .5rem;
}
textarea {
  resize: vertical;
}
/* ボタン共通 */
.container-button,
#getFromExtensionButton {
  white-space: nowrap;
  font-size: .8rem;
  font-weight: 700;
  padding: .25rem 1rem;
  margin: .5rem 0;
  border: none;
  border-radius: 999px;
  color: #fff;
  background-color: #666;
  cursor: pointer;
  transition: background-color 0.3s ease;
}
.container-button:hover,
#getFromExtensionButton:hover {
  background-color: #444;
}
/* フレックス配置 */
.flex-container {
  display: flex;
  gap: .5rem;
  margin: .5rem 0;
}
.flex-item {
  flex: 1;
}
/* JSON表示枠 */
pre {
  background: #f0f0f0;
  padding: .5rem;
  border-radius: 4px;
  min-height: 100px;
  overflow-x: auto;
}
/* レスポンシブ */
@media (max-width: 767px) {
  #container {
    max-width: 100%;
    padding: 8px;
    margin: 0;
  }
}
 </style>
</head>
<body>
 <div id="header-placeholder"></div>
 <h4>want peek you</h4>
 <span>Nostr kind:30000 Event Manager</span>
 <div id="container">
 <div id="loader" style="display:none;"><p>now loading...</p></div>
 
 <button id="getFromExtensionButton" type="button">拡張機能から取得</button>
 <label for="nsecInput">秘密鍵(nsec):</label>
 <input type="text" id="nsecInput" placeholder="nsec1..." value="">
 <div id="pubkeyInfo">
 <p>公開鍵(npub):<span id="npubDisplay"></span><span> / </span><span id="hexDisplay"></span></p>
 </div>

 <label for="relayInput">使用するリレー(改行&コンマ区切り、空欄でデフォルトリレーを使用)</label>
 <textarea id="relayInput" placeholder="wss://relay.nostr.band/,wss://nos.lol/"></textarea>

 <button class="container-button" id="fetchEventsButton">読み込み</button>
 <button class="container-button" id="showNewListButton">新規作成</button>
 <label for="dTagSelect">選択</label>
 <select id="dTagSelect" disabled>
 <option value=""></option>
 </select>
 <div id="newListFormContainer" style="display:none;">
 <label for="newDTagInput">リスト名</label>
 <input type="text" id="newDTagInput" placeholder="例:unmissable">
 </div>
 <button class="container-button" id="decryptButton" disabled>リストを編集</button>
 <div class="flex-container">
 <div class="flex-item">
 <label for="pTagsInput">Public（公開リスト）</label>
 <textarea id="pTagsInput" rows="5" placeholder="リストに入れたいひとの公開鍵をhex形式で入力(改行、カンマ、スペース区切り)"></textarea>
 </div>
 <div class="flex-item">
 <label for="contentInput">Private（非公開リスト）</label>
 <textarea id="contentInput" rows="5" placeholder="リストに入れたいひとの公開鍵をhex形式で入力(改行、カンマ、スペース区切り)"></textarea>
 </div>
 </div>
 <button class="container-button" id="generateButton">変更内容を準備（非公開部分を暗号化）</button>
 <h5>生成されたJSON</h5>
 <pre id="generatedJson"></pre>  <button class="container-button" id="updateButton" disabled>リストを更新する</button>
 </div>
 <script src="https://ompomz.github.io/header/loadHeader.js"></script>
 <script src="https://unpkg.com/nostr-tools@2.17.0/lib/nostr.bundle.js"></script>
 <script src="https://ompomz.github.io/flowgazer/relay-manager.js"></script>
 <script src="script.js"></script>
</body>
</html>