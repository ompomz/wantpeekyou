<!DOCTYPE html>
<html lang="ja">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>want peek you</title>
 <style>
  @media (max-width:300px){#container{max-width:100%;padding:8px;margin:0}.flex-container{flex-direction:column;align-items:stretch}}
 </style>
</head>
<body>
 <div id="header-placeholder"></div>
 <h4>want peek you</h4>
 <span>Nostr kind:30000 Event Manager</span>
 <div id="container">
 <div id="loader" style="display:none;"><p>now loading...</p></div>
 
 <button id="getFromExtensionButton" type="button">拡張機能から取得</button>
 <label for="nsecInput">秘密鍵(nsec):</label>
 <input type="text" id="nsecInput" placeholder="nsec1..." value="">
 <div id="pubkeyInfo">
 <p>公開鍵(npub):<span id="npubDisplay"></span><span> / </span><span id="hexDisplay"></span></p>
 </div>

 <label for="relayInput">使用するリレー(改行&コンマ区切り、空欄でデフォルトリレーを使用)</label>
 <textarea id="relayInput" placeholder="wss://relay.nostr.band/,wss://nos.lol/"></textarea>

 <button class="container-button" id="fetchEventsButton">読み込み</button>
 <button class="container-button" id="showNewListButton">新規作成</button>
 <label for="dTagSelect">選択</label>
 <select id="dTagSelect" disabled>
 <option value=""></option>
 </select>
 <div id="newListFormContainer" style="display:none;">
 <label for="newDTagInput">リスト名</label>
 <input type="text" id="newDTagInput" placeholder="例:unmissable">
 </div>
 <button class="container-button" id="decryptButton" disabled>リストを編集</button>
 <div class="flex-container">
 <div class="flex-item">
 <label for="pTagsInput">Public（公開リスト）</label>
 <textarea id="pTagsInput" rows="5" placeholder="リストに入れたいひとの公開鍵をhex形式で入力(改行、カンマ、スペース区切り)"></textarea>
 </div>
 <div class="flex-item">
 <label for="contentInput">Private（非公開リスト）</label>
 <textarea id="contentInput" rows="5" placeholder="リストに入れたいひとの公開鍵をhex形式で入力(改行、カンマ、スペース区切り)"></textarea>
 </div>
 </div>
 <button class="container-button" id="generateButton">変更内容を準備（非公開部分を暗号化）</button>
 <h5>生成されたJSON</h5>
 <pre id="generatedJson"></pre>  <button class="container-button" id="updateButton" disabled>リストを更新する</button>
 </div>
 <script src="https://ompomz.github.io/header/loadHeader.js"></script>
 <script src="https://unpkg.com/nostr-tools@2.17.0/lib/nostr.bundle.js"></script>
 <script src="https://ompomz.github.io/flowgazer/relay-manager.js"></script>
 <script src="script.js"></script>
</body>
</html>
